<!-- ```table-of-contents
style: nestedList # TOC style (nestedList|inlineFirstLevel)
minLevel: 0 # Include headings from the specified level
maxLevel: 0 # Include headings up to the specified level
includeLinks: true # Make headings clickable
debugInConsole: false # Print debug info in Obsidian console
``` -->

![windows_logo](https://tryhackme-images.s3.amazonaws.com/room-icons/927c0e95705ab5d0e7db380435080414.svg)

[toc]

----
# Introduction to Windows  { TASK 1 }
----
## About Section
---
- The Windows Operating System (OS) is a complex product with many system files, utilities, settings, features, etc.
- **Creds:** `administrator : letmein123!`
- **Connection via RDP (Remote Desktop Protocol):**
	- STEP 1:  Server:  `<IP Address>`
	- STEP 2:  Fill the username
	- STEP 3:  Fill the password
	- STEP 4:  Color depth -  `RemoteFX (32 bpp)`
	- STEP 5:  Accept the certificate when prompted, and you should be logged into the remote system.
- It is dominant operating system in both home use and corporate networks. Because of this, Windows has always been targeted by the hackers & malware writers.

# Windows Versions:  { TASK 2 }
----
- Windows XP (Long Lived)
- Windows Vista (Short Lived)
- Windows 7 (Long Lived)
- Windows 8.x (Short Lived as Vista)
- Windows 10
	- Windows Home
	- Windows Pro
-  Windows 11 

# The Desktop (GUI):  { TASK 3 }
---

- The Desktop
- Start Menu
- Search Box (Cortana)
- Task View
- Taskbar
- Toolbars
- Notification Area


# The File System -  { TASK 4 }
---
- Modern version of Windows uses the **New Technology File System (NTFS)**
- Before NTFS, there was **FAT16/FAT32  (File Allocation Table)**  and **HPFS (High Performance File System)**.
- NTFS is known as a journaling file system. In case of a failure, the file system can automatically repair the folders/files on disk using information stored in a log file. This function is not possible with FAT.
- You can still see the FAT partition in use today. For example, you typically see FAT partitions in USB devices, MicroSD cards, etc. but traditionally not on personal Windows computer/laptops or Windows servers.
- NTFS addresses many of the limitations of the previous files systems; such as:
  - Supports files larger than 4GB
  - Set specific permissions on folder and files
  - Folder and file compression
  - Encryption ([Encryption File System](# "The Encrypted File System or EFS provides an additional level of security for files and directories. It provides cryptographic protection of individual files on NTFS file system volumes using a public-key system.") or **EFS**), for more information on EFS visit this link [here](https://learn.microsoft.com/en-us/windows/win32/fileio/file-encryption)
- On NTFS volumes, you can set permissions thath grant or deny access to files and folders.
  - The permissions are:
    - Full Control
    - Modify
    - Read & Execute
    - List folder contents
    - Read
    - Write
    - Here you can see the image showing the list of permissions, meaning for folders, meaning for files:
	![file_permissions_in_windwos](https://assets.tryhackme.com/additional/win-fun1/ntfs-permissions1.png)

- How can you view the permissions for a file or folder?
  - Right-click the file or folder you want to check for permissions.
  - From the context menu, Select `properties`
  - Within Properties, clieck on the `Security` tab
  - In the `Group or user names` list, select the user, computer, or group for the Windows folder.
- Another feature or the NTFS is **Alternate Data Streams (ADS)**.
- Alternate DATA Streams (ADS) is a file attribute specific to Windows NTFS.
- Every file has at least one data stream (`$DATA`), and ADS allows files to contain more than one stream of data. Natively [Windows Explorer](https://support.microsoft.com/en-us/windows/what-s-changed-in-file-explorer-ef370130-1cca-9dc5-e0df-2f7416fe1cb1) doesn't display ADS to the user. There are 3rd party executables that can be used to view this data, but [Powershell](https://learn.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.4&viewFallbackFrom=powershell-7.1) gives you the ability to view ADS for files.
- *Form a security perspective, malware writers have used ADS to hide data.*
- Not all the uses are malicious. For example, when you download a file from the internet, there are idntifiers written to ADS to identify that the file was downloaded form the internet.
- **Source:**
  - ADS: https://blog.malwarebytes.com/101/2015/07/introduction-to-alternate-data-streams/
  - Bonus: If you wish to interact hands-on with ADS, It is suggested to explore Day 21 of [Advant of Cyber 2](https://tryhackme.com/room/adventofcyber2)


# The Windows\System32 Folder -  { TASK 5 }
---

- The Windows folder (`C:\Windows`) is traditionaly known as the folder which contains the Windows operating system.
- The folder doesn't have to reside in the C drive necessarily. It can reside in any other drive and technically can reside in a different folder.
- This is where environment variables, more specifically system environment variables, come into play. Even though not discussed yet, the system environment variable for the Windows directory is `%windir%`.
- Per [Microsoft](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_environment_variables?view=powershell-7.4&viewFallbackFrom=powershell-7.1),"*Environment variables store information about the operating system environment. This information includes details such as the operating system path, the number of processors used by the operating system, and the location of temporary folders.*"
- There are many folders withing the 'Windows' folder. See below:
  - ![img_of_folders_within_the_windows_directory/folder](https://assets.tryhackme.com/additional/win-fun1/windows-folder.png)
- One of the main folders is SYSTEM32:
  - ![img_of_showing_system32_folder](https://assets.tryhackme.com/additional/win-fun1/windows-system32.png)
  - The system32 folder holds the important files that are criptical for the operating system.
  - You should proceed with extreme caution when interacting with this folder. Accidentally deleting any files or folders withing Systems32 can render the Windows OS [inoperational](https://www.howtogeek.com/346997/what-is-the-system32-directory-and-why-you-shouldnt-delete-it/).
  - **NOTE:**  Many of the tools that will be covered in this Windows Fundamentals series reside within the Syetem32 folder.


# User Accounts, Profiles, and Permissions -  { TASK 6 }
--------

- Tow types of Users in Windows OS
  - **Administrator** (Root)
  - **Standard User**
- An Administrator can make changes to the system: add users, delete users, modify groups, modify settings on the system, etc.
- A Standard User can only make changes to folders/files attributed to the user & can't perform system-level changes, such as insatll programs.

## How to check, that which user we are logged in as?
---
- One way is to click the `Start Menu` and type `Other User`. A shortcut to `System Settings > Other users` should appear.:
  - ![img_of_other-users](https://assets.tryhackme.com/additional/win-fun1/win-other-user1.png)
- Each user profile will have the same folders; a few of them are:
  - Desktop
  - Documents
  - Downloads
  - Music
  - Pictures
- Another way to access this information, and then some, is using **Local User and Group Management**.
  - Right-click on the start menu and click on the **Run** Or just press `win+R` keys and then type `lusrmgr.msc`. See below
  - ![img](https://assets.tryhackme.com/additional/win-fun1/win-lusrmgr.gif)
  - If you click on Groups, you see all the names of the local groups along with a brief description for each group.
  - Each group has permissions set to it, and users are assigned/added to groups by the Administrator. When a user is assigned to a group, the user inherits the permissions of that group. A user can be assigned to multiple groups.


# User Account Control { TASK 7 }
---

- The large majority of home users are logged into their Windows systems as local administrators. Remember from the previous task that any user with administrator as the account type can make changes to the system.
- A User doesn't need to ruun with high (elevated) privileges on the system to run tasks that don't require such privileges, such as surfing the internet, working on a World Document, etc. This elevated privilege increases the risk of system compromise because it makes it easier for malware to infect the system. Consequently, since the user account can make changes to the system, the malware would run in the context of the logged-in-user.
- To protect the local user such with such privileges, Microsoft introduced **User Account Control** (UAC). This concept was first introduced with the sort-lived Windows Vista and continued with versions of Windows that followed.
- **NOTE:** [UAC](# "User Account Control (UAC) helps prevent malware from damaging a PC and helps organizations deploy a better-managed desktop. With UAC, apps and tasks always run in the security context of a non-administrator account, unless an administrator specifically authorizes administrator-level access to the system. UAC can block the automatic installation of unauthorized apps and prevent inadvertent changes to system settings.") (by defalt) doesn't apply for the built-in local administrator account.

## How does a UAC work?
---
When a user with an account type of admininstrator logs into a system, the current session doesn't run with elevated permissions. When an operation requiring higher-level privileges needs to execute, the user will be promped to confirm if they permit the operation to run.

This shield icon is an indicator that UAC will prompt to allow higher-level privileges to install the program:
![img_of_UAC_protected_program](https://assets.tryhackme.com/additional/win-fun1/win-wireshark2.png). 
Double-click the program, and you'll see the UAC prompt. Notice that the built-in administrator account is already set as the user name and prompts the account's password. See below:
![img_password_prompt](https://assets.tryhackme.com/additional/win-fun1/win-uac.png)


# Settings and the Control Panel - { TASK 8 }
---
> Checkout on your own!


# Task Manager - { TASK 9 }
----
> Checkout on your own!


# Conclusion - { TASK 10 }
---

Again, this was a generic overview of the Windows OS.
There are intermediate and advanced topics for each topic (task) that was covered in this Chapter.